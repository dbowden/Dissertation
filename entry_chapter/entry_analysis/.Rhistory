install.packages("mediation")
library(mediation)
set.seed(2014)
data("framing")
data("framing", package="mediation")
attach(framing)
vignette(mediation)
vignette("mediation")
med.fit <- lm(emo ~ treat + age + educ + gender + income, data = framing)
summary(med.fit)
out.fit <- glm(cong_mesg ~ emo + treat + age + educ + gender + income, data = framing, family = binomial("probit"))
summary(out.fit)
?mediate
med.out <- mediate(med.fit, out.fit, treat="treat", mediator="emo", robustSE=T, sims=100)
summary(med.out)
framing$group <- sample(a:d, 265)
framing$group <- sample(c("a","b","c","d"), 265)
framing$group <- sample(c("a","b","c","d"), 265, replace=T)
table(framing$group)
med.fit2 <- lmer(emo ~ treat + age + educ + gender + income + (1|group), data = framing)
library(lme4)
med.fit2 <- lmer(emo ~ treat + age + educ + gender + income + (1|group), data = framing)
out.fit <- glmer(cong_mesg ~ emo + treat + age + educ + gender + income + (1|group), data = framing, family = binomial("probit"))
out.fit2 <- glmer(cong_mesg ~ emo + treat + age + educ + gender + income + (1|group), data = framing, family = binomial("probit"))
med.out2 <- mediate(med.fit2, out.fit2, treat="treat", mediator="emo", robustSE=T, sims=100)
med.out2 <- mediate(med.fit2, out.fit2, treat="treat", mediator="emo", sims=100)
summary(med.out2)
plot(med.out2)
